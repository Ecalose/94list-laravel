import"./base-e8db4a9d.js";import{E as F}from"./el-card-e43020f4.js";import{E as U,a as h}from"./el-form-item-77bf1366.js";import{E as C}from"./el-input-e0bc9846.js";import"./el-popper-1e28a2d2.js";import{E as $,a as R}from"./el-select-a262edec.js";import{E as N}from"./el-button-21ff238e.js";import{e as z}from"./user-b53389df.js";import{a as y,g as B,e as m,c as _,n as w,u as l,h as D,i as v,j as T,d as j,r as E,k as A,m as H,b as t,w as r,p as b,q as g,F as O,t as G,v as J}from"./index-607dfe2f.js";import{f as K}from"./favicon-de9023fc.js";import{b as W,d as X,u as Y,_ as Z,w as ee,E as le}from"./request-70b65b72.js";import{_ as te}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-form-item-1a794399.js";import"./_initCloneObject-b85b73ba.js";import"./isNil-c75b1b34.js";import"./focus-trap-9634570e.js";import"./strings-0456932e.js";import"./index-53bf12df.js";import"./scroll-f050c522.js";import"./validator-4fa462e3.js";const oe=W({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:X(String),default:"solid"}}),ae=y({name:"ElDivider"}),re=y({...ae,props:oe,setup(s){const p=s,u=Y("divider"),e=B(()=>u.cssVar({"border-style":p.borderStyle}));return(d,V)=>(m(),_("div",{class:w([l(u).b(),l(u).m(d.direction)]),style:T(l(e)),role:"separator"},[d.$slots.default&&d.direction!=="vertical"?(m(),_("div",{key:0,class:w([l(u).e("text"),l(u).is(d.contentPosition)])},[D(d.$slots,"default")],2)):v("v-if",!0)],6))}});var ne=Z(re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/divider/src/divider.vue"]]);const se=ee(ne);const de=j("InstallPannel",()=>{const s=E({db_connection:"",db_host:"localhost",db_port:"3306",db_database:"94list",db_username:"94list",db_password:"",app_name:"94list-laravel",app_url:"",admin_route_prefix:"/admin",pending:!1,installed:!1}),p=E(null);return{installForm:s,installFormRef:p}}),q=s=>(G("data-v-fd43252b"),s=s(),J(),s),ie={class:"container"},ue=["src"],pe=q(()=>b("h2",null,"就是加速",-1)),me={key:0},_e=q(()=>b("p",null,"您的后台登录账号密码均为:admin,请及时登录修改!",-1)),be=y({__name:"InstallPannel",setup(s){const p=A(),u=de(),{installForm:e,installFormRef:d}=H(u),V={db_connection:[{required:!0,message:"请选择安装方式",trigger:"change"}],db_host:[{required:!0,message:"请输入MySQL 数据库地址",trigger:"blur"}],db_port:[{required:!0,message:"请输入MySQL 端口",trigger:"blur"}],db_database:[{required:!0,message:"请输入MySQL 数据库名",trigger:"blur"}],db_username:[{required:!0,message:"请输入MySQL 用户名",trigger:"blur"}],db_password:[{required:!0,message:"请输入MySQL 密码",trigger:"blur"}],app_name:[{required:!0,message:"请输入网站名称",trigger:"blur"}],app_url:[{required:!0,message:"请输入网站url",trigger:"blur"}],admin_route_prefix:[{required:!0,message:"请输入后台登录路径",trigger:"blur"}]},I=async f=>{if(!f||!await f.validate(()=>{}))return;e.value.pending=!0;const o=await z({db_connection:e.value.db_connection,db_host:e.value.db_host,db_port:e.value.db_port,db_database:e.value.db_database,db_username:e.value.db_username,db_password:e.value.db_password,app_name:e.value.app_name,app_url:e.value.app_url,admin_route_prefix:e.value.admin_route_prefix})??"failed";e.value.pending=!1,o.toString()!=="failed"&&(le.success("安装成功!"),e.value.installed=!0)},k=()=>p.push("/"),L=()=>p.push("/login");return(f,o)=>{const c=N,S=$,M=R,n=U,i=C,Q=se,x=h,P=F;return m(),_("div",ie,[t(P,null,{default:r(()=>[b("h1",null,[b("img",{src:l(K),alt:"logo"},null,8,ue)]),pe,l(e).installed?(m(),_("h3",me,[_e,t(c,{type:"danger",onClick:o[0]||(o[0]=a=>k())},{default:r(()=>[g("访问首页")]),_:1}),t(c,{type:"success",onClick:o[1]||(o[1]=a=>L())},{default:r(()=>[g("访问后台")]),_:1})])):v("",!0),t(x,{ref_key:"installFormRef",ref:d,model:l(e),rules:V,disabled:l(e).installed,"label-width":"auto"},{default:r(()=>[t(n,{label:"数据库驱动",prop:"db_connection"},{default:r(()=>[t(M,{modelValue:l(e).db_connection,"onUpdate:modelValue":o[2]||(o[2]=a=>l(e).db_connection=a),placeholder:"请选择数据库驱动"},{default:r(()=>[t(S,{label:"MySQL",value:"mysql"}),t(S,{label:"SQLite",value:"sqlite"})]),_:1},8,["modelValue"])]),_:1}),l(e).db_connection==="mysql"?(m(),_(O,{key:0},[t(n,{label:"MySQL 数据库地址",prop:"db_host"},{default:r(()=>[t(i,{modelValue:l(e).db_host,"onUpdate:modelValue":o[3]||(o[3]=a=>l(e).db_host=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"MySQL 端口",prop:"db_port"},{default:r(()=>[t(i,{modelValue:l(e).db_port,"onUpdate:modelValue":o[4]||(o[4]=a=>l(e).db_port=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"MySQL 数据库名",prop:"db_database"},{default:r(()=>[t(i,{modelValue:l(e).db_database,"onUpdate:modelValue":o[5]||(o[5]=a=>l(e).db_database=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"MySQL 用户名",prop:"db_username"},{default:r(()=>[t(i,{modelValue:l(e).db_username,"onUpdate:modelValue":o[6]||(o[6]=a=>l(e).db_username=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"MySQL 密码",prop:"db_password"},{default:r(()=>[t(i,{modelValue:l(e).db_password,"onUpdate:modelValue":o[7]||(o[7]=a=>l(e).db_password=a)},null,8,["modelValue"])]),_:1})],64)):v("",!0),t(Q),t(n,{label:"网站名称",prop:"app_name"},{default:r(()=>[t(i,{modelValue:l(e).app_name,"onUpdate:modelValue":o[8]||(o[8]=a=>l(e).app_name=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"网站url",prop:"app_url"},{default:r(()=>[t(i,{modelValue:l(e).app_url,"onUpdate:modelValue":o[9]||(o[9]=a=>l(e).app_url=a)},null,8,["modelValue"])]),_:1}),t(n,{label:"后台登录路径",prop:"admin_route_prefix"},{default:r(()=>[t(i,{modelValue:l(e).admin_route_prefix,"onUpdate:modelValue":o[10]||(o[10]=a=>l(e).admin_route_prefix=a)},null,8,["modelValue"])]),_:1}),t(n,{class:"center"},{default:r(()=>[t(c,{type:"primary",onClick:o[11]||(o[11]=a=>I(l(d))),loading:l(e).pending},{default:r(()=>[g(" 安装 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","disabled"])]),_:1})])}}});const Ce=te(be,[["__scopeId","data-v-fd43252b"]]);export{Ce as default};
