import{d as ce}from"./base-e8db4a9d.js";import{v as de}from"./el-loading-e18e9ff6.js";import{E as pe}from"./el-input-e0bc9846.js";import{i as ge}from"./el-popper-1e28a2d2.js";import{E as fe,a as me}from"./el-select-a262edec.js";import{E as ve,a as be}from"./el-table-column-c8343445.js";import{E as _e}from"./el-button-21ff238e.js";import{k as Ce,l as he,m as Pe}from"./admin-f9a97a86.js";import{u as ye}from"./AccountManagement-200fc13a.js";import{a as N,g as $,e as m,c as w,z as j,R as I,w as S,a5 as ne,u as a,E as ke,r as B,G as X,b,F as Y,an as se,n as T,p as ee,T as we,i as G,af as ze,I as Se,K as Ne,aa as D,m as xe,o as Ee,q as K,P as $e}from"./index-607dfe2f.js";import{b as V,t as Q,C as W,f as ie,_ as J,d as le,m as oe,v as re,u as R,$ as Ae,a0 as ae,a1 as Te,n as U,g as Me,h as Be,w as Ie,E as H}from"./request-70b65b72.js";import{_ as Le}from"./_plugin-vue_export-helper-c27b6911.js";import"./use-form-item-1a794399.js";import"./isNil-c75b1b34.js";import"./_initCloneObject-b85b73ba.js";import"./focus-trap-9634570e.js";import"./strings-0456932e.js";import"./index-53bf12df.js";import"./scroll-f050c522.js";import"./validator-4fa462e3.js";import"./_commonjsHelpers-725317a4.js";const ue=Symbol("elPaginationKey"),qe=V({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Q}}),Ke={click:e=>e instanceof MouseEvent},je=["disabled","aria-label","aria-disabled"],De={key:0},Fe=N({name:"ElPaginationPrev"}),Ue=N({...Fe,props:qe,emits:Ke,setup(e){const o=e,{t:s}=W(),v=$(()=>o.disabled||o.currentPage<=1);return(r,i)=>(m(),w("button",{type:"button",class:"btn-prev",disabled:a(v),"aria-label":r.prevText||a(s)("el.pagination.prev"),"aria-disabled":a(v),onClick:i[0]||(i[0]=u=>r.$emit("click",u))},[r.prevText?(m(),w("span",De,j(r.prevText),1)):(m(),I(a(ie),{key:1},{default:S(()=>[(m(),I(ne(r.prevIcon)))]),_:1}))],8,je))}});var Ve=J(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/prev.vue"]]);const We=V({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Q}}),Oe=["disabled","aria-label","aria-disabled"],Re={key:0},Je=N({name:"ElPaginationNext"}),He=N({...Je,props:We,emits:["click"],setup(e){const o=e,{t:s}=W(),v=$(()=>o.disabled||o.currentPage===o.pageCount||o.pageCount===0);return(r,i)=>(m(),w("button",{type:"button",class:"btn-next",disabled:a(v),"aria-label":r.nextText||a(s)("el.pagination.next"),"aria-disabled":a(v),onClick:i[0]||(i[0]=u=>r.$emit("click",u))},[r.nextText?(m(),w("span",Re,j(r.nextText),1)):(m(),I(a(ie),{key:1},{default:S(()=>[(m(),I(ne(r.nextIcon)))]),_:1}))],8,Oe))}});var Ge=J(He,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/next.vue"]]);const Z=()=>ke(ue,{}),Qe=V({pageSize:{type:Number,required:!0},pageSizes:{type:le(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:re}}),Xe=N({name:"ElPaginationSizes"}),Ye=N({...Xe,props:Qe,emits:["page-size-change"],setup(e,{emit:o}){const s=e,{t:v}=W(),r=R("pagination"),i=Z(),u=B(s.pageSize);X(()=>s.pageSizes,(f,k)=>{if(!ge(f,k)&&Array.isArray(f)){const g=f.includes(s.pageSize)?s.pageSize:s.pageSizes[0];o("page-size-change",g)}}),X(()=>s.pageSize,f=>{u.value=f});const P=$(()=>s.pageSizes);function A(f){var k;f!==u.value&&(u.value=f,(k=i.handleSizeChange)==null||k.call(i,Number(f)))}return(f,k)=>(m(),w("span",{class:T(a(r).e("sizes"))},[b(a(me),{"model-value":u.value,disabled:f.disabled,"popper-class":f.popperClass,size:f.size,teleported:f.teleported,"validate-event":!1,onChange:A},{default:S(()=>[(m(!0),w(Y,null,se(a(P),g=>(m(),I(a(fe),{key:g,value:g,label:g+a(v)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var Ze=J(Ye,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/sizes.vue"]]);const ea=V({size:{type:String,values:re}}),aa=["disabled"],ta=N({name:"ElPaginationJumper"}),na=N({...ta,props:ea,setup(e){const{t:o}=W(),s=R("pagination"),{pageCount:v,disabled:r,currentPage:i,changeEvent:u}=Z(),P=B(),A=$(()=>{var g;return(g=P.value)!=null?g:i==null?void 0:i.value});function f(g){P.value=g?+g:""}function k(g){g=Math.trunc(+g),u==null||u(g),P.value=void 0}return(g,x)=>(m(),w("span",{class:T(a(s).e("jump")),disabled:a(r)},[ee("span",{class:T([a(s).e("goto")])},j(a(o)("el.pagination.goto")),3),b(a(pe),{size:g.size,class:T([a(s).e("editor"),a(s).is("in-pagination")]),min:1,max:a(v),disabled:a(r),"model-value":a(A),"validate-event":!1,label:a(o)("el.pagination.page"),type:"number","onUpdate:modelValue":f,onChange:k},null,8,["size","class","max","disabled","model-value","label"]),ee("span",{class:T([a(s).e("classifier")])},j(a(o)("el.pagination.pageClassifier")),3)],10,aa))}});var sa=J(na,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/jumper.vue"]]);const ia=V({total:{type:Number,default:1e3}}),la=["disabled"],oa=N({name:"ElPaginationTotal"}),ra=N({...oa,props:ia,setup(e){const{t:o}=W(),s=R("pagination"),{disabled:v}=Z();return(r,i)=>(m(),w("span",{class:T(a(s).e("total")),disabled:a(v)},j(a(o)("el.pagination.total",{total:r.total})),11,la))}});var ua=J(ra,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/total.vue"]]);const ca=V({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),da=["onKeyup"],pa=["aria-current","aria-label","tabindex"],ga=["tabindex","aria-label"],fa=["aria-current","aria-label","tabindex"],ma=["tabindex","aria-label"],va=["aria-current","aria-label","tabindex"],ba=N({name:"ElPaginationPager"}),_a=N({...ba,props:ca,emits:["change"],setup(e,{emit:o}){const s=e,v=R("pager"),r=R("icon"),{t:i}=W(),u=B(!1),P=B(!1),A=B(!1),f=B(!1),k=B(!1),g=B(!1),x=$(()=>{const t=s.pagerCount,l=(t-1)/2,n=Number(s.currentPage),E=Number(s.pageCount);let M=!1,L=!1;E>t&&(n>t-l&&(M=!0),n<E-l&&(L=!0));const q=[];if(M&&!L){const h=E-(t-2);for(let F=h;F<E;F++)q.push(F)}else if(!M&&L)for(let h=2;h<t;h++)q.push(h);else if(M&&L){const h=Math.floor(t/2)-1;for(let F=n-h;F<=n+h;F++)q.push(F)}else for(let h=2;h<E;h++)q.push(h);return q}),y=$(()=>["more","btn-quickprev",r.b(),v.is("disabled",s.disabled)]),O=$(()=>["more","btn-quicknext",r.b(),v.is("disabled",s.disabled)]),c=$(()=>s.disabled?-1:0);we(()=>{const t=(s.pagerCount-1)/2;u.value=!1,P.value=!1,s.pageCount>s.pagerCount&&(s.currentPage>s.pagerCount-t&&(u.value=!0),s.currentPage<s.pageCount-t&&(P.value=!0))});function p(t=!1){s.disabled||(t?A.value=!0:f.value=!0)}function _(t=!1){t?k.value=!0:g.value=!0}function C(t){const l=t.target;if(l.tagName.toLowerCase()==="li"&&Array.from(l.classList).includes("number")){const n=Number(l.textContent);n!==s.currentPage&&o("change",n)}else l.tagName.toLowerCase()==="li"&&Array.from(l.classList).includes("more")&&d(t)}function d(t){const l=t.target;if(l.tagName.toLowerCase()==="ul"||s.disabled)return;let n=Number(l.textContent);const E=s.pageCount,M=s.currentPage,L=s.pagerCount-2;l.className.includes("more")&&(l.className.includes("quickprev")?n=M-L:l.className.includes("quicknext")&&(n=M+L)),Number.isNaN(+n)||(n<1&&(n=1),n>E&&(n=E)),n!==M&&o("change",n)}return(t,l)=>(m(),w("ul",{class:T(a(v).b()),onClick:d,onKeyup:ze(C,["enter"])},[t.pageCount>0?(m(),w("li",{key:0,class:T([[a(v).is("active",t.currentPage===1),a(v).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===1,"aria-label":a(i)("el.pagination.currentPage",{pager:1}),tabindex:a(c)}," 1 ",10,pa)):G("v-if",!0),u.value?(m(),w("li",{key:1,class:T(a(y)),tabindex:a(c),"aria-label":a(i)("el.pagination.prevPages",{pager:t.pagerCount-2}),onMouseenter:l[0]||(l[0]=n=>p(!0)),onMouseleave:l[1]||(l[1]=n=>A.value=!1),onFocus:l[2]||(l[2]=n=>_(!0)),onBlur:l[3]||(l[3]=n=>k.value=!1)},[(A.value||k.value)&&!t.disabled?(m(),I(a(Ae),{key:0})):(m(),I(a(ae),{key:1}))],42,ga)):G("v-if",!0),(m(!0),w(Y,null,se(a(x),n=>(m(),w("li",{key:n,class:T([[a(v).is("active",t.currentPage===n),a(v).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===n,"aria-label":a(i)("el.pagination.currentPage",{pager:n}),tabindex:a(c)},j(n),11,fa))),128)),P.value?(m(),w("li",{key:2,class:T(a(O)),tabindex:a(c),"aria-label":a(i)("el.pagination.nextPages",{pager:t.pagerCount-2}),onMouseenter:l[4]||(l[4]=n=>p()),onMouseleave:l[5]||(l[5]=n=>f.value=!1),onFocus:l[6]||(l[6]=n=>_()),onBlur:l[7]||(l[7]=n=>g.value=!1)},[(f.value||g.value)&&!t.disabled?(m(),I(a(Te),{key:0})):(m(),I(a(ae),{key:1}))],42,ma)):G("v-if",!0),t.pageCount>1?(m(),w("li",{key:3,class:T([[a(v).is("active",t.currentPage===t.pageCount),a(v).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,"aria-label":a(i)("el.pagination.currentPage",{pager:t.pageCount}),tabindex:a(c)},j(t.pageCount),11,va)):G("v-if",!0)],42,da))}});var Ca=J(_a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue"]]);const z=e=>typeof e!="number",ha=V({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:e=>U(e)&&Math.trunc(e)===e&&e>4&&e<22&&e%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:le(Array),default:()=>oe([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Q,default:()=>Me},nextText:{type:String,default:""},nextIcon:{type:Q,default:()=>Be},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),Pa={"update:current-page":e=>U(e),"update:page-size":e=>U(e),"size-change":e=>U(e),"current-change":e=>U(e),"prev-click":e=>U(e),"next-click":e=>U(e)},te="ElPagination";var ya=N({name:te,props:ha,emits:Pa,setup(e,{emit:o,slots:s}){const{t:v}=W(),r=R("pagination"),i=Se().vnode.props||{},u="onUpdate:currentPage"in i||"onUpdate:current-page"in i||"onCurrentChange"in i,P="onUpdate:pageSize"in i||"onUpdate:page-size"in i||"onSizeChange"in i,A=$(()=>{if(z(e.total)&&z(e.pageCount)||!z(e.currentPage)&&!u)return!1;if(e.layout.includes("sizes")){if(z(e.pageCount)){if(!z(e.total)&&!z(e.pageSize)&&!P)return!1}else if(!P)return!1}return!0}),f=B(z(e.defaultPageSize)?10:e.defaultPageSize),k=B(z(e.defaultCurrentPage)?1:e.defaultCurrentPage),g=$({get(){return z(e.pageSize)?f.value:e.pageSize},set(d){z(e.pageSize)&&(f.value=d),P&&(o("update:page-size",d),o("size-change",d))}}),x=$(()=>{let d=0;return z(e.pageCount)?z(e.total)||(d=Math.max(1,Math.ceil(e.total/g.value))):d=e.pageCount,d}),y=$({get(){return z(e.currentPage)?k.value:e.currentPage},set(d){let t=d;d<1?t=1:d>x.value&&(t=x.value),z(e.currentPage)&&(k.value=t),u&&(o("update:current-page",t),o("current-change",t))}});X(x,d=>{y.value>d&&(y.value=d)});function O(d){y.value=d}function c(d){g.value=d;const t=x.value;y.value>t&&(y.value=t)}function p(){e.disabled||(y.value-=1,o("prev-click",y.value))}function _(){e.disabled||(y.value+=1,o("next-click",y.value))}function C(d,t){d&&(d.props||(d.props={}),d.props.class=[d.props.class,t].join(" "))}return Ne(ue,{pageCount:x,disabled:$(()=>e.disabled),currentPage:y,changeEvent:O,handleSizeChange:c}),()=>{var d,t;if(!A.value)return ce(te,v("el.pagination.deprecationWarning")),null;if(!e.layout||e.hideOnSinglePage&&x.value<=1)return null;const l=[],n=[],E=D("div",{class:r.e("rightwrapper")},n),M={prev:D(Ve,{disabled:e.disabled,currentPage:y.value,prevText:e.prevText,prevIcon:e.prevIcon,onClick:p}),jumper:D(sa,{size:e.small?"small":"default"}),pager:D(Ca,{currentPage:y.value,pageCount:x.value,pagerCount:e.pagerCount,onChange:O,disabled:e.disabled}),next:D(Ge,{disabled:e.disabled,currentPage:y.value,pageCount:x.value,nextText:e.nextText,nextIcon:e.nextIcon,onClick:_}),sizes:D(Ze,{pageSize:g.value,pageSizes:e.pageSizes,popperClass:e.popperClass,disabled:e.disabled,teleported:e.teleported,size:e.small?"small":"default"}),slot:(t=(d=s==null?void 0:s.default)==null?void 0:d.call(s))!=null?t:null,total:D(ua,{total:z(e.total)?0:e.total})},L=e.layout.split(",").map(h=>h.trim());let q=!1;return L.forEach(h=>{if(h==="->"){q=!0;return}q?n.push(M[h]):l.push(M[h])}),C(l[0],r.is("first")),C(l[l.length-1],r.is("last")),q&&n.length>0&&(C(n[0],r.is("first")),C(n[n.length-1],r.is("last")),l.push(E)),D("div",{class:[r.b(),r.is("background",e.background),{[r.m("small")]:e.small}]},l)}}});const ka=Ie(ya);const wa=N({__name:"AccountList",setup(e){const o=ye(),{currentPage:s,pageSize:v,accountList:r,accountLoading:i,selectAccounts:u}=xe(o),P=async(c,p,_=!0)=>{_&&(i.value=!0);const C=await Ce({account_id:c})??"failed";_&&(i.value=!1),C.toString()!=="failed"&&(_&&await o.getAccounts(),H.success(`成功${p===0?"启用":"禁用"}`))},A=async(c,p=!0)=>{p&&(i.value=!0);const _=await he({account_id:c})??"failed";p&&(i.value=!1),_.toString()!=="failed"&&(p&&await o.getAccounts(),H.success("更新账户信息成功"))},f=async(c,p=!1)=>{p&&(i.value=!0);const _=await Pe({account_id:c})??"failed";p&&(i.value=!1),_.toString()!=="failed"&&(p&&await o.getAccounts(),H.success("删除账户成功"))},k=c=>u.value=c,g=async()=>{i.value=!0;for(let c=0;c<u.value.length;c++){const p=u.value[c];if(p.switch===1){H.warning(`编号:${p.id},已经启用了`);continue}await P(p.id,p.switch,!1)}await o.getAccounts(!1),i.value=!1},x=async()=>{i.value=!0;for(let c=0;c<u.value.length;c++){const p=u.value[c];if(p.switch===0){H.warning(`编号:${p.id},已经禁用了`);continue}await P(p.id,p.switch,!1)}await o.getAccounts(!1),i.value=!1},y=async()=>{i.value=!0;for(let c=0;c<u.value.length;c++){const p=u.value[c];await f(p.id,!1)}await o.getAccounts(!1),i.value=!1},O=async()=>{i.value=!0;for(let c=0;c<u.value.length;c++){const p=u.value[c];await A(p.id,!1)}await o.getAccounts(!1),i.value=!1};return Ee(o.getAccounts),(c,p)=>{const _=_e,C=ve,d=be,t=ka,l=de;return m(),w(Y,null,[b(_,{type:"primary",onClick:a(o).openAddDialog},{default:S(()=>[K(" 添加代理账号 ")]),_:1},8,["onClick"]),b(_,{type:"primary",disabled:a(u).length<=0,onClick:g},{default:S(()=>[K(" 批量启用 ")]),_:1},8,["disabled"]),b(_,{type:"danger",disabled:a(u).length<=0,onClick:x},{default:S(()=>[K(" 批量禁用 ")]),_:1},8,["disabled"]),b(_,{type:"primary",disabled:a(u).length<=0,onClick:O},{default:S(()=>[K(" 批量更新 ")]),_:1},8,["disabled"]),b(_,{type:"danger",disabled:a(u).length<=0,onClick:y},{default:S(()=>[K(" 批量删除 ")]),_:1},8,["disabled"]),$e((m(),I(d,{data:a(r).data,border:"","show-overflow-tooltip":"",class:"table",onSelectionChange:k},{default:S(()=>[b(C,{type:"selection",width:"40"}),b(C,{prop:"id",label:"编号"}),b(C,{prop:"baidu_name",label:"百度用户名"}),b(C,{prop:"netdisk_name",label:"网盘用户名"}),b(C,{prop:"state",label:"状态"}),b(C,{prop:"add_time",label:"添加时间"}),b(C,{prop:"svip_end_time",label:"SVIP到期时间"}),b(C,{prop:"use",label:"最后有效时间"}),b(C,{prop:"vip_type",label:"会员类型"}),b(C,{prop:"cookie",label:"cookie值"}),b(C,{prop:"switch",label:"是否启用"},{default:S(n=>[K(j(n.row.switch===0?"禁用":"启用"),1)]),_:1}),b(C,{label:"操作",width:"220"},{default:S(n=>[b(_,{size:"small",type:"primary",onClick:E=>A(n.row.id)},{default:S(()=>[K(" 更新信息 ")]),_:2},1032,["onClick"]),b(_,{size:"small",type:n.row.switch===0?"success":"info",onClick:E=>P(n.row.id,n.row.switch)},{default:S(()=>[K(j(n.row.switch===0?"启用":"禁用"),1)]),_:2},1032,["type","onClick"]),b(_,{size:"small",type:"danger",onClick:E=>f(n.row.id)},{default:S(()=>[K(" 删除 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[l,a(i)]]),b(t,{"current-page":a(s),"page-size":a(v),total:a(r).total,"hide-on-single-page":"",onCurrentChange:a(o).getAccounts},null,8,["current-page","page-size","total","onCurrentChange"])],64)}}});const Ra=Le(wa,[["__scopeId","data-v-9c9438c1"]]);export{Ra as default};
